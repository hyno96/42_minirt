

A 0.2   255,255,255
C -50.0,0,20 0,-1,1 70

L -40,0,30 0.7 255,255,255
pl 0,0,0 0,1.0,0 255,0,225
sp 0,0,20 20 255,0,0
cy 50.0,0.0,20.6 0,0,1.0 14.2 21.42 10,0,255

pl 0,0,0 0,1.0,0 255,0,225
sp 0,0,20 20 255,0,0
cy 50.0,0.0,20.6 0,0,1.0 14.2 21.42 10,0,255

t_camera    camera(t_point3 orig, t_vec3 dir)
{
    t_camera    cam;
    t_vec3      vec_y;
    t_vec3      vec_z;
    t_vec3      temp;
    
    vec_y = vec3(0.0, 1.0, 0.0);
    vec_z = vec3(0.0, 0.0, -1.0);
    
    cam.orig = orig;
    cam.dir = dir;
    cam.fov = 90;
    if (vlength(vcross(vec_y, cam.dir)))
        cam.right_normal = vunit(vcross(cam.dir, vec_y));
    else 
        cam.right_normal = vunit(vcross(cam.dir, vec_z));
    cam.up_normal = vunit(vcross(cam.right_normal, cam.dir));
    cam.focal_len = (float)WIDTH / 2 / get_tan(cam.fov / 2);

    temp = vplus(cam.orig, vmult(cam.dir, cam.focal_len));
    temp = vminus(temp, vmult(cam.right_normal, -(float)(WIDTH - 1)/ 2));
    temp = vminus(temp, vmult(cam.up_normal, -(float)(HEIGHT - 1)/ 2));
    cam.left_bottom = temp;
    print_vec(cam.right_normal);
    print_vec(cam.up_normal);
    print_vec(cam.left_bottom);
    return (cam);
}